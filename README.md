# Индивидуальная (лабораторная) работа №2

## Оглавление
1. Инструкции по запуску проекта
2. Описание лабораторной работы
3. Краткая документация к проекту
4. Примеры использования проекта
5. Ответы на контрольные вопросы
6. Список использованных источников
7. Дополнительные важные аспекты

## Инструкции по запуску проекта
Для запуска этого проекта вам потребуется использовать редактор кода Visual Studio Code (VS Code) с установленным расширением Live Server. Это расширение позволяет запускать HTML-файлы в режиме реального времени в вашем браузере.

Если вы попытаетесь запустить HTML-файл напрямую из папки в браузере, вы можете столкнуться с ошибкой CORS (Cross-Origin Resource Sharing). Это происходит потому, что браузеры блокируют запросы к файлам, которые находятся не на том же источнике, что и веб-страница. Вот типичное сообщение об ошибке, которое вы можете увидеть:

`“Access to script at ‘file:///D:/js_ind_2/src/index.js’ from origin ‘null’ has been blocked by CORS policy: Cross origin requests are only supported for protocol schemes: http, data, isolated-app, chrome-extension, chrome, https, chrome-untrusted.”`

## Описание лабораторной работы
В этой лабораторной работе я сосредоточился на разработке функции `getRandomActivity()`, которая делает запрос к API и получает данные о случайной активности. Я использовал `fetch()` для выполнения HTTP-запроса и обработал полученные данные, чтобы отобразить текст активности на веб-странице.

Затем я добавил обработку ошибок в функцию `getRandomActivity()`. В случае ошибки я добавил текст “К сожалению, произошла ошибка” на веб-страницу.

Я также изменил функцию `getRandomActivity()`, чтобы она использовала ключевые слова async / await.

Наконец, я добавил функционал обновления данных каждую минуту с использованием функции `setTimeout()`. Я также изменил функцию `getRandomActivity()`, чтобы она возвращала данные, и добавил функцию `updateActivity()`, которая отображает полученные данные.

## Краткая документация к проекту
Проект состоит из четырех файлов:

1. `index.html` - основной HTML-файл, который содержит структуру веб-страницы.
2. `index.css` - CSS-файл, который используется для стилизации веб-страницы. В настоящее время он пуст.
3. `index.js` - JavaScript-файл, который импортирует и вызывает функцию `startUpdatingActivity()` из файла `activity.js`.
4. `activity.js` - JavaScript-файл, который содержит функции для получения случайной активности из API и обновления ее на веб-странице.

### Файлы

#### index.html

HTML-файл содержит структуру веб-страницы. На странице есть заголовок и элемент `<i>`, в котором отображается активность. JavaScript-файл `index.js` подключается как модуль.

#### index.css

CSS-файл в настоящее время пуст, но его можно использовать для добавления стилей на веб-страницу.

#### index.js

JavaScript-файл `index.js` импортирует функцию `startUpdatingActivity()` из файла `activity.js` и вызывает ее. Это запускает процесс обновления активности на веб-странице.

#### activity.js

JavaScript-файл `activity.js` содержит три функции:

1. `getRandomActivity()` - асинхронная функция, которая делает запрос к API и возвращает случайную активность. В случае ошибки возвращает сообщение об ошибке.
2. `updateActivity()` - функция, которая вызывает `getRandomActivity()` и обновляет текст активности на веб-странице.
3. `startUpdatingActivity()` - функция, которая вызывает `updateActivity()` и затем устанавливает таймер для повторного вызова `startUpdatingActivity()` через одну минуту. Это создает цикл обновления активности каждую минуту.

## Запуск проекта

Для запуска проекта откройте файл `index.html` в браузере. Вы должны увидеть случайную активность, которая обновляется каждую минуту. Если произошла ошибка при получении активности, вы увидите сообщение об ошибке.

## Примеры использования проекта
Капитан Смит часто ощущает скуку, так как его дни полностью заполнены поездками с одного места на другое. Мы можем помочь ему найти занятие по душе.
Для этого нам нужно разработать мини-приложение, которое будет предлагать капитану Смиту новое занятие при каждом обновлении.

## Ответы на контрольные вопросы

### Какое значение возвращает функция fetch?

Функция `fetch()` возвращает **объект Promise**, который разрешается в объект `Response` представляющий ответ на запрос.

### Что представляет собой Promise?

**Promise** - это объект в JavaScript, который связан с некоторой асинхронной операцией и может изменить свое состояние в будущем. Состояния Promise могут быть следующими:
- **Pending**: начальное состояние, ни выполнено, ни отклонено.
- **Fulfilled**: операция завершена успешно.
- **Rejected**: операция завершена с ошибкой.

### Какие методы доступны у объекта Promise?

У объекта Promise доступны следующие методы:
- **then()**: добавляет обработчики, которые будут вызваны при переходе промиса в состояние "выполнено успешно" или "выполнено с ошибкой".
- **catch()**: добавляет обработчик, который будет вызван, если промис перейдет в состояние "выполнено с ошибкой".
- **finally()**: добавляет обработчик, который будет вызван в любом случае, независимо от того, был ли промис выполнен успешно или с ошибкой.

### Каковы основные различия между использованием async / await и Promise?

- **Promise**: это более старый способ работы с асинхронными операциями. Он предоставляет методы `.then()`, `.catch()` и `.finally()` для управления состояниями и результатами асинхронных операций.
- **Async/Await**: это более новый и более современный способ работы с асинхронными операциями. Он позволяет писать асинхронный код, который выглядит и ведет себя как синхронный код. Это делает код более читаемым и понятным. Однако, под капотом, async/await использует Promises.

## Список использованных источников
- https://github.com/MSU-Courses/javascript_typescript/tree/main/docs
- https://copilot.microsoft.com/

## Дополнительные важные аспекты
...
